!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const i=function(){const t={x:"width",y:"height"};class e{constructor(t,e,s,i=10,o=10,n){this.size=s,this.xPos=t,this.yPos=e,this.originX=t,this.originY=e,this.speed=i,this.defaultBuffer=o,this.canvas=n,this.context=n.getContext("2d")}resetPositionX(){this.resetPosition("x")}resetPositionY(){this.resetPosition("y")}resetPosition(e){let s=e+"Pos",i=t[e];this[s]<0?this[s]=this.canvas[i]-this.size:this[s]-this.size+this.defaultBuffer>this.canvas[i]&&(this[s]=0)}moveUp(t=1){this.yPos-=t*this.speed,this.resetPositionY()}moveDown(t=1){this.yPos+=t*this.speed,this.resetPositionY()}moveRight(t=1){this.xPos+=t*this.speed,this.resetPositionX()}moveLeft(t=1){this.xPos-=t*this.speed,this.resetPositionX()}hasCollidedWithCharacter(t=new e){return this.xPos<=t.xPos&&this.xPos+this.size>=t.xPos&&this.yPos<=t.yPos&&this.yPos+this.size>=t.yPos}render(){throw new Error("Not Implemented")}}return{Character:e}}(),o=function(){class t extends i.Character{constructor(t,e,s){super(t,e,64,2,10,s),this.radius=this.size/2}hasCollidedWithCharacter(t=new i.Character){return this.yPos-this.radius>=t.yPos&&this.yPos+this.radius<=t.yPos&&this.xPos+this.radius<=t.xPos&&this.xPos-this.radius>=t.xPos}collisionTest(t){return hasCollided=this.hasCollidedWithCharacter(t)||t.hasCollidedWithCharacter(this),this}render(){return this.context.beginPath(),this.context.arc(this.xPos,this.yPos,this.radius,0*Math.PI,2*Math.PI,!0),context.fillStyle="#9900ff",context.fill(),context.closePath(),this}followCharacter(t=new i.Character){return this.xPos<t.xPos&&this.moveRight(),this.xPos>t.xPos&&this.moveLeft(),this.yPos<t.yPos&&this.moveDown(),this.yPos>t.yPos&&this.moveUp(),this.collisionTest(t).render(),this}}return{Enemy:t}}(),n=function(){const t={up:"w",down:"s",left:"a",right:"d"};class e extends i.Character{constructor(t,e,s,i){super(t,e,20,s,10,i)}transitionOnInput(e){for(const s in t){let i=s[0].toUpperCase()+s.substr(1);e[t[s]]&&this["move"+i]()}this.render()}render(){this.context.beginPath(),this.context.rect(this.xPos,this.yPos,this.size,this.size),this.context.fillStyle="#000",this.context.fill(),this.context.closePath()}}return{Player:e}}(),r=()=>{let t,e,s=document.getElementById("timer"),i=document.getElementById("gameStart"),r=document.getElementById("stuff"),h=0,a=0,d=0,c={a:!1,w:!1,s:!1,d:!1},l={ArrowUp:"w",ArrowDown:"s",ArrowLeft:"a",ArrowRight:"d",a:"a",s:"s",d:"d",w:"w"},u=!1,f=new o.Enemy(40,40,r),P=[f];function y(){h++,a+=Math.floor(h/60),h%=60,d+=Math.floor(a/60),a%=60,p()}n.defaultSquare=new n.Player(r.width-10,r.height-10,4,r);const x=(t,e=2)=>t.toString().padStart(e,"0"),p=()=>s.innerHTML=`${x(d)}:${x(a)}:${x(h)}`;function m(){context.clearRect(0,0,r.width,r.height),n.defaultSquare.transitionOnInput(c),n.defaultSquare.render(),function(t){for(let e of t)e.followCharacter(n.defaultSquare)}(P),u&&(v(),i.classList.remove("hidden"))}const v=()=>{clearInterval(t),clearInterval(e)};document.addEventListener("keydown",(function(t){c[l[t.key]||"unmapped"]=!0})),document.addEventListener("keyup",(function(t){c[l[t.key]||"unmapped"]=!1})),i.addEventListener("click",(function(){context.clearRect(0,0,r.width,r.height),u=!1,d=a=h=0,((t=[])=>{for(let e of t)e.xPos=e.originX,e.yPos=e.originY})([n.defaultSquare,f]),t=setInterval(m,10),e=setInterval(y,1e3),i.classList.add("hidden")})),console.log("loaded game")};window.addEventListener("load",r),document.addEventListener("load",r)}]);